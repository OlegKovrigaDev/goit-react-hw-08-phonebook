"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[898],{6898:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(3050),a=t(9439),i=t(2791),c=t(4420),o=t(208),s=t(1686),l=t.n(s),u=t(3553),d=function(e){return e.contacts.items},m=function(e){return e.filter},h=function(e){return e.contacts.error},f=function(e){return e.contacts.isLoading},x=(0,u.P1)([d,m],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),p=t(7989),j=t(2641),b=t(3329),v=function(){var e=(0,c.I0)(),n=(0,c.v9)(d),t=(0,i.useState)(""),r=(0,a.Z)(t,2),s=r[0],u=r[1],m=(0,i.useState)(""),h=(0,a.Z)(m,2),f=h[0],x=h[1],v=function(t){t.preventDefault();var r={name:s,number:f};if(n.find((function(e){return e.name.toLowerCase()===r.name.toLowerCase()})))l().Report.warning("Alert","Contact with name ".concat(r.name," already exists!"),"Ok");else{var a=n.find((function(e){var n=e.number;return r.number.replace(/\D/g,"")===n.replace(/\D/g,"")}));a?l().Report.warning("Alert","Number ".concat(r.number," is already in contacts!"),"Ok"):(e((0,o.uK)(r)),u(""),x(""))}};return(0,b.jsxs)("form",{onSubmit:v,children:[(0,b.jsx)("label",{children:"Name:"}),(0,b.jsx)(p.Z,{type:"text",name:"name",placeholder:"Enter name",value:s,onChange:function(e){return u(e.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,b.jsx)("label",{children:"Number:"}),(0,b.jsx)(p.Z,{type:"tel",name:"number",placeholder:"Enter phone number",value:f,onChange:function(e){return x(e.target.value)},pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,b.jsx)(j.ZP,{type:"primary",onClick:v,style:{margin:12},children:"Add contact"})]})},g=t(1234),y=t(4664),Z=t(5496),C=t(5722),w=t(1082),k=t(8656),A=Z.Z.Meta;var P,N=function(e){var n=e.contact,t=(0,c.I0)(),r=(0,i.useState)(!1),s=(0,a.Z)(r,2),l=s[0],u=s[1],d=(0,i.useState)(n.name),m=(0,a.Z)(d,2),h=m[0],f=m[1],x=(0,i.useState)(n.number),v=(0,a.Z)(x,2),g=v[0],y=v[1],P=function(){return t((0,o.GK)(n.id))},N=function(){return u(!1)};return(0,b.jsxs)(Z.Z,{title:n.name,extra:(0,b.jsx)(j.ZP,{type:"primary",onClick:function(){return u(!0)},children:"Edit"}),style:{width:300,marginBottom:16},children:[(0,b.jsx)(A,{title:"Contact Number",description:(0,b.jsx)("a",{href:"tel:".concat(n.number),children:n.number}),style:{marginBottom:12,fontSize:24}}),(0,b.jsx)(w.Z,{title:"Delete the contact",description:"Are you sure to delete this contact?",onConfirm:function(){P(),C.ZP.success("Contact deleted")},onCancel:function(){return C.ZP.error("Canceled")},okText:"Yes",cancelText:"No",children:(0,b.jsx)(j.ZP,{danger:!0,children:"Delete"})}),(0,b.jsx)(k.Z,{visible:l,onCancel:N,footer:[(0,b.jsx)(j.ZP,{onClick:N,children:"Cancel"},"cancel"),(0,b.jsx)(j.ZP,{type:"primary",onClick:function(){u(!1),t((0,o.xt)({id:n.id,name:h,number:g}))},children:"Save"},"save")],children:(0,b.jsxs)("div",{className:"modal-content",children:[(0,b.jsx)("label",{children:"New Name:"}),(0,b.jsx)(p.Z,{type:"text",value:h,onChange:function(e){return f(e.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,b.jsx)("label",{children:"New Number:"}),(0,b.jsx)(p.Z,{type:"text",value:g,onChange:function(e){return y(e.target.value)},pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"Phone number format could be: +1 555 1234567 or 555 1234567.",required:!0})]})})]})},z=t(2732),S=function(){var e=(0,c.v9)(x),n=(0,c.v9)(h),t=(0,c.v9)(f),r=(0,c.I0)();return(0,i.useEffect)((function(){r((0,o.yF)())}),[r]),(0,b.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:12},children:[e.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,b.jsx)(N,{contact:{id:n,name:t,number:r}},n)})),t&&!n&&(0,b.jsx)(z.a,{size:"large"}),n&&(0,b.jsx)(g.Z,{message:"Error fetching contacts",type:"error"}),!t&&0===e.length&&(0,b.jsx)(y.Z,{description:"The Phonebook is empty. Add your first contact."})]})},B=t(6895),q=p.Z.Search,D=function(){var e=(0,c.I0)(),n=(0,c.v9)(m);return(0,b.jsx)("div",{style:{marginBottom:12},children:(0,b.jsxs)("label",{children:["Filter contacts by name:",(0,b.jsx)(q,{type:"text",name:"filter",placeholder:"Search by name",value:n,onChange:function(n){return e((0,B.T)(n.target.value.trim()))},disabled:0===(0,c.v9)(d).length})]})})},E=t(168),F=t(5685).ZP.div(P||(P=(0,E.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100vh;\n  text-align: center;\n"])));var L=function(){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(r.B6,{children:[(0,b.jsx)(r.ql,{children:(0,b.jsx)("title",{children:"Phonebook"})}),(0,b.jsxs)(F,{children:[(0,b.jsx)(v,{}),(0,b.jsx)("h2",{children:"Contacts"}),(0,b.jsx)(D,{}),(0,b.jsx)(S,{})]})]})})}}}]);
//# sourceMappingURL=898.fe45c50d.chunk.js.map